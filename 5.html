<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>留言板</title>
  </head>
  <body>
    <h1>留言板</h1>
    
    <form>
      <label for="name">昵称：</label>
      <input type="text" id="name" name="name"><br>
      <label for="message">留言：</label>
      <textarea id="message" name="message" rows="4" cols="50"></textarea><br>
      <input type="button" value="提交" onclick="addMessage()">
    </form>
    
    <hr>
    
    <div id="message-list">
    </div>
    
    <script>
      // 保存留言的数组
      var messages = [];
      
      // 添加留言到页面和留言数组中
      function addMessage() {
        var nameInput = document.getElementById("name");
        var messageInput = document.getElementById("message");
        var name = nameInput.value.trim();
        var message = messageInput.value.trim();
        
        // 如果名字或留言为空，弹出提示
        if (name === "" || message === "") {
          alert("昵称或留言不能为空！");
          return;
        }
        
        // 添加留言到数组
        messages.push({
          name: name,
          message: message,
          date: new Date()
        });
        
        // 清空输入框
        nameInput.value = "";
        messageInput.value = "";
        
        // 刷新留言列表
        renderMessages();
      }
      
      // 渲染留言列表
      function renderMessages() {
        var messageList = document.getElementById("message-list");
        messageList.innerHTML = "";
        
        // 循环遍历留言数组，生成HTML并添加到页面中
        for (var i = 0; i < messages.length; i++) {
          var message = messages[i];
          var messageHtml = "<strong>" + message.name + "</strong> 说：" + message.message + " <em>" + message.date.toLocaleString() + "</em>";
          var messageElement = document.createElement("div");
          messageElement.innerHTML = messageHtml;
          messageList.appendChild(messageElement);
        }
      }
      
      // 页面加载时渲染留言列表
      window.onload = renderMessages;
    </script>
  </body>
</html>
